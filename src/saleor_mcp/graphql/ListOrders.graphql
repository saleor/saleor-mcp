fragment Address on Address {
  firstName
  lastName
  streetAddress1
  streetAddress2
  country {
    code
  }
  postalCode
}

query ListOrders(
  $first: Int
  $after: String
  $sortBy: OrderSortingInput
  $filter: OrderFilterInput
) {
  orders(first: $first, after: $after, sortBy: $sortBy, filter: $filter) {
    pageInfo {
      hasNextPage
      hasPreviousPage
      startCursor
      endCursor
    }
    totalCount
    edges {
      node {
        id
        number
        status
        created
        updatedAt
        paymentStatus
        userEmail
        total {
          gross {
            amount
            currency
          }
        }
        lines {
          quantity
          productSku
          variant {
            name
            product {
              id
              name
            }
          }
          unitPrice {
            gross {
              currency
              amount
            }
          }
        }
        shippingAddress {
          ...Address
        }
        billingAddress {
          ...Address
        }
      }
    }
  }
}
